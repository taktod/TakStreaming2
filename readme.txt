flazrとxuggleを組み合わせてプログラムをつくってみたところ、どうもreadNextPacketとかの動作がいい感じにならないので
次のようなプログラムをつくってみる。

いままで・・・
flazr -> xuggle -> いろんなフォーマット作成 -> バイナリ単位で分割
今回のプログラム
flazr -> processBuilderでjava + ffmpegの動作を作成 -> 出力をprocessBuilderの標準入力から入手 -> バイナリ単位で分割
としてみたいと思います。
processBuilderへ、出力をリアルタイムに渡してコンバートしつつなにがしを実行するということがうまくできなかったのでprocessBuilderでつくったjavaと本体のflazrはsocketで通信したいと思います。

現状やること。
・動画の保存動作は完成したので、socket通信を利用して子プロセスにデータをおくって、処理する動作をためしてみる。
・ファイルの保存テスト
・ffmpegによる変換テスト
・変換後のデータをprocessBuilderから取得するテスト
・変換後のデータの取得後のデータを分割するテスト

2012/11/11
・flazrでずっと止まらずに監視できるプログラムをつくる。
→とりあえずつくってみた。出力FLVも可能なかぎり、綺麗にしたつもり。
・異常が発生した場合のみ止まることにする。(そういう場合は例外)
→こちらもやったつもり。すくなくともエラーが発生したら監視をやめることになる。

